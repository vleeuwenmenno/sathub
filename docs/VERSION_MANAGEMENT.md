# Version Management

This document describes the version management system for SatHub.

## Overview

SatHub maintains synchronized versions across the frontend and backend components. The version is managed through several files and automatically updated during the release process.

## Version Files

### Frontend
- **`frontend/src/version.ts`** - TypeScript module exporting the VERSION constant
- **`frontend/package.json`** - Standard npm package version field

### Backend  
- **`backend/version.go`** - Go file with VERSION constant
- **`backend/main.go`** - Includes `/api/version` endpoint to expose version via API

### Client
- **`client/version.go`** - Go file with VERSION constant
- **`client/go.mod`** - Includes version comment for reference

## Version Display

### Frontend
The current version is displayed in the footer of the application (see `frontend/src/components/Footer.tsx`).

### Backend API
The version is available via the `/api/version` endpoint:
```bash
curl http://localhost:8888/api/version
# Returns: {"version": "0.1.2"}
```

### Client
The client displays version information at startup and supports a `--version` flag:
```bash
# Show version and exit
./sathub-client --version
# Output: SatHub Data Client v0.1.2

# Normal startup shows version in logs
./sathub-client
# Output: [CLIENT] Starting SatHub Data Client v0.1.2
```

## Release Process

The `release.sh` script handles version management automatically:

1. **Version Selection**: Choose patch, minor, or major version increment
2. **File Updates**: Optionally update all version files (default: yes)
3. **Git Commit**: Automatically commit version changes
4. **Tag Creation**: Create and push the git tag
5. **GitHub Release**: Optional browser redirect to create GitHub release

### Example Release Flow

```bash
./release.sh
```

The script will:
1. Show current version (e.g., `v0.1.1`)
2. Prompt for release type (patch/minor/major)
3. Calculate new version (e.g., `v0.1.2`)
4. Ask to update version files (recommended: yes)
5. Commit and push version changes
6. Create and push git tag
7. Optionally open GitHub releases page

## Manual Version Updates

If you need to manually update versions:

```bash
# Update all version files to 0.1.3
./release.sh  # and follow prompts
# OR manually edit:
# - frontend/src/version.ts
# - backend/version.go  
# - frontend/package.json
```

## Version File Format

### frontend/src/version.ts
```typescript
// This file is auto-generated by the release script
// Do not modify manually
export const VERSION = '0.1.2';
```

### backend/version.go
```go
// This file is auto-generated by the release script
// Do not modify manually
package main

const VERSION = "0.1.2"
```

### client/version.go
```go
// This file is auto-generated by the release script
// Do not modify manually
package main

const VERSION = "0.1.2"
```

### frontend/package.json
```json
{
  "version": "0.1.2",
  ...
}
```

## Development Notes

- Version files are automatically generated by `release.sh`
- The frontend Footer component automatically displays the current version
- Backend exposes version via `/api/version` endpoint  
- Client shows version at startup and supports `--version` flag
- All version files should be committed to git
- Version updates happen before git tagging in the release process